<beans:beans xmlns="http://www.springframework.org/schema/security"
             xmlns:beans="http://www.springframework.org/schema/beans"
             xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
             xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.0.xsd
             http://www.springframework.org/schema/security http://www.springframework.org/schema/security/spring-security-2.0.xsd">

    <!--<beans:bean id="filterChainProxy"-->
                <!--class="org.springframework.security.util.FilterChainProxy">-->
        <!--<filter-chain-map path-type="ant">-->
            <!--<filter-chain pattern="/**"-->
                          <!--filters="httpSessionContextIntegrationFilter,logoutFilter,authenticationProcessingFilter,basicProcessingFilter,securityContextHolderAwareRequestFilter,rememberMeProcessingFilter,anonymousProcessingFilter,exceptionTranslationFilter,filterInvocationInterceptor,switchUserProcessingFilter"/>-->
        <!--</filter-chain-map>-->
    <!--</beans:bean>-->

    <http >
        <intercept-url pattern="/pages/admin/**" access="ROLE_ADMIN"/>
        <intercept-url pattern="/admin/**" access="ROLE_ADMIN"/>
        <intercept-url pattern="/**" access="ROLE_USER" filters="none"/>

        <anonymous granted-authority="ROLE_USER"/>
        <!--<form-login login-page='/login.jsp' />-->
        <!--<http-basic />-->
        <openid-login always-use-default-target="true" default-target-url="/pages/admin/admin.xhtml"/>
    </http>

    <authentication-provider>
        <user-service>
            <user name="${openid.admin}" password="lala" authorities="ROLE_ADMIN, ROLE_USER"/>

        </user-service>
    </authentication-provider>


</beans:beans>
