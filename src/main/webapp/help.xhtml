<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:tr="http://myfaces.apache.org/trinidad"
                xmlns:psv="http://psicquic.mi.psi.hupo.org/view"
                template="WEB-INF/facelets/layout/compliance-template-ebi.xhtml">


<!-- Mandatorty params -->
<ui:param name="sectionTitle" value="Help"/>
<ui:define name="content">

<section class="grid_18 alpha">
<section class="grid_18">
<a name ="search"/>
<h2>Search Tips</h2>
<p>To do a search you can use the
    <tr:goLink text=" Molecular Interaction Query Language "
               destination="https://psicquic.github.io/MiqlDefinition.html"
               targetFrame="_blank"/>

    which is based on

    <tr:goLink text=" Lucene's syntax."
               destination="http://lucene.apache.org/core/3_6_0/queryparsersyntax.html#Terms"
               targetFrame="_blank"/>

</p>

<ul>
    <li>Use OR or space ' ' to search for ANY of the terms in a field</li>
    <li>Use AND if you want to search for those interactions where ALL of your terms are found</li>
    <li>Use quotes (") if you look for a specific phrase (group of terms that must be searched together) or terms
        containing special characters that may otherwise be interpreted by our query engine (eg. ':' in a GO term)
    </li>
    <li>Use parenthesis for complex queries (e.g. '(XXX OR YYY) AND ZZZ')</li>
    <li>Wildcards (*,?) can be used between letters in a term or at the end of terms to do fuzzy queries,
        <br/>but never at the beginning of a term
    </li>
    <li>Optionally, you can prepend a symbol in from of your term.
        <ul>
            <li>+ (plus): include this term. Equivalent to AND. e.g. +P12345</li>
            <li>- (minus): do not include this term. Equivalent to NOT. e.g. -P12345</li>
            <li>Nothing in front of the term. Equivalent to OR. e.g. P12345</li>
        </ul>
    </li>

    <li>Implicit fields are used when no field is specified (free text search). For instance, if you put
        <i>'P12345'</i> in the simple query box,
        this will mean the same as <i>  identifier:P12345 OR pubid:P12345 OR pubauth:P12345 OR species:P12345
            OR detmethod:P12345 OR type:P12345 OR interaction_id:P12345 OR xref:P12345 OR pxref:P12345
            OR bioeffect:P12345 OR causalstatement:P12345</i></li>

</ul>
</section>
<section class="grid_18">
<a name ="miql"/>
<h2>MIQL Fields</h2>

<h:panelGrid columns="4" styleClass="contenttable" headerClass="contenttable">

    <tr:outputText value="Field Name" inlineStyle="font-weight: bold"/>
    <tr:outputText value="Searches on" inlineStyle="font-weight: bold"/>
    <tr:outputText value="Implicit*" inlineStyle="font-weight: bold"/>
    <tr:outputText value="Example" inlineStyle="font-weight: bold"/>

    <tr:outputText value="idA"/>
    <tr:outputText value="Identifier A"/>
    <tr:outputText value="No"/>
    <psv:queryLink value="idA:P74565"/>

    <tr:outputText value="idB"/>
    <tr:outputText value="Identifier B"/>
    <tr:outputText value="No"/>
    <psv:queryLink value="idB:P74565"/>

    <tr:outputText value="id"/>
    <tr:outputText value="Identifiers (A or B)"/>
    <tr:outputText value="No"/>
    <psv:queryLink value="id:P74565"/>

    <tr:outputText value="alias"/>
    <tr:outputText value="Aliases (A or B)"/>
    <tr:outputText value="No"/>
    <psv:queryLink value="alias:(KHDRBS1 HCK)"/>

    <tr:outputText value="identifiers"/>
    <tr:outputText value="Identifiers and Aliases undistinctively"/>
    <tr:outputText value="Yes"/>
    <psv:queryLink value="identifier:P74565"/>

    <tr:outputText value="pubauth"/>
    <tr:outputText value="Publication 1st author(s)"/>
    <tr:outputText value="Yes"/>
    <psv:queryLink value="pubauth:scott"/>

    <tr:outputText value="pubid"/>
    <tr:outputText value="Publication Identifier(s)"/>
    <tr:outputText value="Yes"/>
    <psv:queryLink value="pubid:(10837477  12029088)"/>

    <tr:outputText value="taxidA"/>
    <tr:outputText value="Tax ID interactor A: the tax ID or the species name"/>
    <tr:outputText value="No"/>
    <psv:queryLink value="taxidA:mouse"/>

    <tr:outputText value="taxidB"/>
    <tr:outputText value="Tax ID interactor B: the tax ID or species name"/>
    <tr:outputText value="No"/>
    <psv:queryLink value="taxidB:9606"/>

    <tr:outputText value="species"/>
    <tr:outputText value="Species. Tax ID A or Tax ID B"/>
    <tr:outputText value="Yes"/>
    <psv:queryLink value="species:human"/>

    <tr:outputText value="type"/>
    <tr:outputText value="Interaction type(s)"/>
    <tr:outputText value="Yes"/>
    <psv:queryLink value="type:&quot;physical interaction&quot;"/>

    <tr:outputText value="detmethod"/>
    <tr:outputText value="Interaction Detection method(s)"/>
    <tr:outputText value="Yes"/>
    <psv:queryLink value="detmethod:&quot;two hybrid*&quot;"/>

    <tr:outputText value="interaction_id"/>
    <tr:outputText value="Interaction identifier(s)"/>
    <tr:outputText value="Yes"/>
    <psv:queryLink value="interaction_id:EBI-761050"/>

    <tr:outputText value="pbioroleA"/>
    <tr:outputText value="Biological role A"/>
    <tr:outputText value="No"/>
    <psv:queryLink value="pbioroleA:ancillary"/>


    <tr:outputText value="pbioroleB"/>
    <tr:outputText value="Biological role B"/>
    <tr:outputText value="No"/>
    <psv:queryLink value="pbioroleB:&quot;MI:0684&quot;"/>


    <tr:outputText value="pbiorole"/>
    <tr:outputText value="Biological roles (A or B)"/>
    <tr:outputText value="No"/>
    <psv:queryLink value="pbiorole:enzyme"/>


    <tr:outputText value="ptypeA"/>
    <tr:outputText value="Interactor type A"/>
    <tr:outputText value="No"/>
    <psv:queryLink value="ptypeA:protein"/>


    <tr:outputText value="ptypeB"/>
    <tr:outputText value="Interactor type B"/>
    <tr:outputText value="No"/>
    <psv:queryLink value="ptypeB:&quot;gene&quot;"/>


    <tr:outputText value="ptype"/>
    <tr:outputText value="Interactor types (A or B)"/>
    <tr:outputText value="No"/>
    <psv:queryLink value="pbiorole:&quot;small molecule&quot;"/>


    <tr:outputText value="pxrefA"/>
    <tr:outputText value="Interactor xref A (or Identifier A)"/>
    <tr:outputText value="No"/>
    <psv:queryLink value="pxrefA:&quot;GO:0003824&quot;"/>


    <tr:outputText value="pxrefB"/>
    <tr:outputText value="Interactor xref B (or Identifier B)"/>
    <tr:outputText value="No"/>
    <psv:queryLink value="pxrefB:&quot;GO:0003824&quot;"/>


    <tr:outputText value="pxref"/>
    <tr:outputText value="Interactor xrefs (A or B or Identifier A or Identifier B)"/>
    <tr:outputText value="Yes"/>
    <psv:queryLink value="pxref:&quot;catalytic activity&quot;"/>


    <tr:outputText value="xref"/>
    <tr:outputText value="Interaction xrefs (or Interaction identifiers)"/>
    <tr:outputText value="Yes"/>
    <psv:queryLink value="xref:&quot;nuclear pore&quot;"/>


    <tr:outputText value="annot"/>
    <tr:outputText value="Interaction annotations and tags"/>
    <tr:outputText value="No"/>
    <psv:queryLink value="annot:&quot;internally curated&quot;"/>


    <tr:outputText value="udate"/>
    <tr:outputText value="Update date"/>
    <tr:outputText value="No"/>
    <psv:queryLink value="udate:[20100101 TO 20120101]"/>


    <tr:outputText value="negative"/>
    <tr:outputText value="Negative interaction boolean"/>
    <tr:outputText value="No"/>
    <psv:queryLink value="negative:true"/>


    <tr:outputText value="complex"/>
    <tr:outputText value="Complex expansion"/>
    <tr:outputText value="No"/>
    <psv:queryLink value="complex:&quot;spoke expanded&quot;"/>


    <tr:outputText value="ftypeA"/>
    <tr:outputText value="Feature type of participant A"/>
    <tr:outputText value="No"/>
    <psv:queryLink value="ftypeA:&quot;sufficient to bind&quot;"/>


    <tr:outputText value="ftypeB"/>
    <tr:outputText value="Feature type of participant B"/>
    <tr:outputText value="No"/>
    <psv:queryLink value="ftypeB:mutation"/>


    <tr:outputText value="ftype"/>
    <tr:outputText value="Feature type of participant A or B"/>
    <tr:outputText value="No"/>
    <psv:queryLink value="ftype:&quot;binding site&quot;"/>


    <tr:outputText value="pmethodA"/>
    <tr:outputText value="Participant identification method A"/>
    <tr:outputText value="No"/>
    <psv:queryLink value="pmethodA:&quot;western blot&quot;"/>


    <tr:outputText value="pmethodB"/>
    <tr:outputText value="Participant identification method B"/>
    <tr:outputText value="No"/>
    <psv:queryLink value="pmethodB:&quot;sequence tag identification&quot;"/>


    <tr:outputText value="pmethod"/>
    <tr:outputText value="Participant identification methods (A or B)"/>
    <tr:outputText value="No"/>
    <psv:queryLink value="pmethod:immunostaining"/>


    <tr:outputText value="stc"/>
    <tr:outputText value="Stoichiometry (A or B). Only true or false, just to be able to filter interaction having stoichiometry available"/>
    <tr:outputText value="No"/>
    <psv:queryLink value="stc:true"/>


    <tr:outputText value="param"/>
    <tr:outputText value="Interaction parameters. Only true or false, just to be able to filter interaction having parameters available"/>
    <tr:outputText value="No"/>
    <psv:queryLink value="param:true"/>


    <tr:outputText value="bioeffectA"/>
    <tr:outputText value="Biological effect of participant A"/>
    <tr:outputText value="No"/>
    <psv:queryLink value="bioeffectA:&quot;kinase activity&quot;"/>


    <tr:outputText value="bioeffectB"/>
    <tr:outputText value="Biological effect of participant B"/>
    <tr:outputText value="No"/>
    <psv:queryLink value="bioeffectB:&quot;antioxidant activity&quot;"/>


    <tr:outputText value="bioeffect"/>
    <tr:outputText value="Biological effect of participant A or B"/>
    <tr:outputText value="Yes"/>
    <psv:queryLink value="bioeffect:&quot;molecular carrier activity&quot;"/>


    <tr:outputText value="causalmechanism"/>
    <tr:outputText value="The indirect causal regulatory mechanism between participants A and B"/>
    <tr:outputText value="No"/>
    <psv:queryLink value="causalmechanism:&quot;MI:2245&quot;"/>


    <tr:outputText value="causalstatement"/>
    <tr:outputText value="The causal statement describing the effect of participant A on participant B"/>
    <tr:outputText value="Yes"/>
    <psv:queryLink value="causalstatement:&quot;up regulates&quot;"/>

</h:panelGrid>

</section>
<section class="grid_18">
    <a name ="clustering"/>
    <h2>Interaction clustering</h2>

    <p>This application allows you to query PSICQUIC services and browse their respective interactions. However these
        dataset can feature multiple evidence of two molecule interacting together, not only within one service but also
        across several. The same, redundant information may have been separately curated by multiple resources.
        The clustering feature will allow you to bring under a single binary interaction all evidences for that given pair
        of molecules. All details such as experimental methods, publications, source database, scoring will be aggregated
        in the resulting interaction.</p>

    <a name ="clustering1"/>
    <h3>How do we cluster your query</h3>

    <p>The method we are using is clustering together molecular interactions that are found to be between the
        same pair of molecules. That is, whenever the molecules are described using the same identifier from the
        following ordered list of public databases:</p>
    <ul>
        <li><a href="http://www.uniprot.org" target="_blank">UniProtKB</a></li>
        <li><a href="http://irefindex.uio.no/wiki/iRefIndex" target="_blank">IRefIndex</a></li>
        <li><a href="http://www.ddbj.nig.ac.jp" target="_blank">DDBJ</a>/
            <a href="http://www.ebi.ac.uk/embl" target="_blank">EMBL</a>/
            <a href="http://www.ncbi.nlm.nih.gov/genbank" target="_blank">GenBank</a>
        </li>
        <li><a href="http://www.ncbi.nlm.nih.gov/refseq" target="_blank">RefSeq</a></li>
        <li><a href="https://www.ebi.ac.uk/chebi" target="_blank">ChEBI</a></li>
    </ul>
    <p>The order of the molecules, whether A-B or B-A does not matter and results in the same final data.</p>
    <a name ="clustering2"/>
    <h3>How to build a clustered query</h3>

    <p>First of all you need to build your query via the usual means, that is, typing a MIQL query in the search box
        and press the search button). On the right hand side of the services list should appear a button labelled
        'Cluster this query'. So far the button will only be available if the sum of all interactions available for
        your query is no higher than 5000 interactions (we are working on relaxing these constraints in the future).
        Once you have pressed the button, a job will be created to process your request. The list of your jobs should
        appear above the button. The displayed status of each job can be as follows:</p>
    <ul>
        <li><b>QUEUED</b>: your job has been submitted but no work has yet been carried out,</li>
        <li><b>RUNNING</b>: your clustered query is being built,</li>
        <li><b>COMPLETED</b>: your clustered query is now ready to be used,</li>
        <li><b>FAILED</b>: the processing of your request has failed.</li>
    </ul>
    <p>At any time, you can remove your job from the list by clicking the 'remove' link.</p>
    <a name ="clustering3"/>
    <h3>How to browse your clustered query</h3>

    <p>Once your job's status is set to COMPLETED, you can click on the 'view' link to open the set of interactions.
        The display is similar to the one you use to view the data of a given PSICQUIC service. Please note that the
        search functionality is disabled while browsing a clustered dataset. Should you want to return to the complete
        list of PSICQUIC services, you only need press the link 'back to all services' positioned at the top left of
        the interaction table.</p>

</section>
</section>
<div class="grid_6 omega shortcuts submenu">
    <div class="panels-flexible-region panels-flexible-region-news-siderbar ">
        <div class="panel-pane pane-block pane-menu-block-3 clearfix">
            <h3 class="pane-title">Help</h3>

            <div class="menu-block-wrapper menu-block-3 menu-name-main-menu parent-mlid-0 menu-level-3">
                <ul id="download-nav" class="menu">
                    <li class="first leaf menu-mlid-3528 menu-press-releases mid-3528"><a href="#search">Search Tips</a></li>
                    <li class="leaf menu-mlid-3528 menu-press-releases mid-3528"><a href="#miql">MIQL Fields</a></li>
                    <li class="last menu-mlid-3528 menu-press-releases mid-3528"><a href="#clustering">Interaction clustering</a>

                        <ul>
                            <li><a href="#clustering1">How do we cluster your query</a></li>
                            <li><a href="#clustering2">How to build a clustered query</a></li>
                            <li><a href="#clustering3">How to browse your clustered query</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>
</ui:define>
</ui:composition>
