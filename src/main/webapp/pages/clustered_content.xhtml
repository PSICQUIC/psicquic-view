<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:t="http://myfaces.apache.org/tomahawk"
                xmlns:tr="http://myfaces.apache.org/trinidad"
                xmlns:trh="http://myfaces.apache.org/trinidad/html"
                xmlns:c="http://java.sun.com/jstl/core"
                xmlns:psv="http://psicquic.mi.psi.hupo.org/view"
                xmlns:fn="http://java.sun.com/jsp/jstl/functions"
                xmlns:ebi="http://ebi.ac.uk/faces/components"
                xmlns:ebisf="http://www.ebi.ac.uk/faces/site">

<section id="clustered-results" class="grid_24">
<h2>
    <strong><h:outputText value="#{searchBean.totalResults}">
        <f:convertNumber pattern="#,###"/>
    </h:outputText></strong> clustered binary interaction#{searchBean.totalResults != 1? 's found' : ' found'}
    for search term <span class="searchterm" id="query"><h:outputText value="#{userQuery.searchQuery}"/></span>

</h2>

<tr:form id="clusteredForm">

<tr:group rendered="#{searchBean.totalResults gt 0}">
    <section class="grid_20">
        <tr:panelGroupLayout id="clusterTable">
            <tr:outputText value="#{searchBean.selectedService.name}" inlineStyle="font-weight:bold; font-size:16px"/>
            <tr:separator/>
            <tr:panelGroupLayout layout="horizontal" id="clusterTable_${searchBean.totalResults}"
                                 partialTriggers="clusterTable">
                <tr:group>
                    <tr:outputText id="clusterResultsMsg" value="The query "/>
                    <tr:outputText value="[#{userQuery.searchQuery}]" inlineStyle="font-weight: bold;"/>
                    <tr:outputText value=" contains a total of "/>
                    <tr:outputText id="clusterTotalResults" value="#{searchBean.totalResults}"
                                   inlineStyle="font-weight: bold;">
                        <tr:convertNumber pattern="#,###"/>
                    </tr:outputText>
                    <tr:outputText
                            value="#{clusteringBean.clusterSelected ? ' clustered' : ' '} binary interactions."/>
                </tr:group>

                <tr:group>
                    <table>
                        <tr>
                            <td style="vertical-align: middle"><tr:image source="/images/back_arrow.gif"/></td>
                            <td style="vertical-align: middle"><tr:commandLink action="#{clusteringBean.unselectClusterJob}"
                                                                               text="Back to all services"/>
                            </td>
                        </tr>
                    </table>
                </tr:group>

            </tr:panelGroupLayout>
            <tr:separator/>

            <ui:include src="tabs/tabs.xhtml">
                <ui:param name="service" value="${searchBean.selectedService}"/>
            </ui:include>

        </tr:panelGroupLayout>
    </section>

</tr:group>

</tr:form>

</section>
</ui:composition>
